{"remainingRequest":"G:\\vue\\Admin\\d_315\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\vue\\Admin\\d_315\\src\\views\\user\\user.vue?vue&type=style&index=0&id=43142f65&lang=scss&scoped=true&","dependencies":[{"path":"G:\\vue\\Admin\\d_315\\src\\views\\user\\user.vue","mtime":1547110596673},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\css-loader\\index.js","mtime":1545539517479},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1545539518738},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\postcss-loader\\src\\index.js","mtime":1545539517883},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\sass-loader\\lib\\loader.js","mtime":1545919221612},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545539517045},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\vue-loader\\lib\\index.js","mtime":1545539518738}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.col-title {\n    text-align: left;\n    margin-bottom: 10px;\n}\n\n.title {\n    font-size: 14px;\n    font-weight: bolder;\n}\n",{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"user.vue","sourceRoot":"src\\views\\user","sourcesContent":["<template>\r\n    <el-col type=\"flex\">\r\n        <el-row type=\"flex\"\r\n                style=\"border-bottom: 1px solid #d0d0d0 ;padding-bottom: 20px;margin-bottom: 20px\"\r\n                justify=\"start\"\r\n        >\r\n            <el-row :span=\"4\"\r\n                    type=\"flex\"\r\n            >\r\n                <el-input v-model=\"user_id\" type=\"number\" placeholder=\"请输入用户id\"/>\r\n            </el-row>\r\n            <el-row type=\"flex\"\r\n                    style=\"margin-right: 20px\"\r\n            >\r\n                <el-button type=\"primary\"\r\n                           icon=\"el-icon-search\"\r\n                           @click=\"gotoUser()\">\r\n                    搜索\r\n                </el-button>\r\n            </el-row>\r\n            <el-row type=\"flex\">\r\n                <el-button type=\"success\"\r\n                           @click=\"dialogVisible = true\"\r\n                           icon=\"el-icon-plus\"\r\n                           v-if=\"$store.state.myself.isAdmin\"\r\n                >添加用户\r\n                </el-button>\r\n            </el-row>\r\n        </el-row>\r\n        <el-row type=\"flex\">\r\n            <el-table v-loading=\"loading\"\r\n                      style=\"width: 800px;min-height: 426px;\"\r\n                      :data=\"UserList.slice((currentPage - 1) * pageSize, currentPage * pageSize)\">\r\n                <el-table-column prop=\"id\" label=\"id\" width=\"180\"/>\r\n                <el-table-column prop=\"chineseName\" label=\"姓名\" width=\"180\"/>\r\n                <el-table-column prop=\"userName\" label=\"用户名\"/>\r\n            </el-table>\r\n        </el-row>\r\n        <el-row type=\"flex\"\r\n                justify=\"center\"\r\n                align=\"middle\"\r\n                style=\"margin:20px\"\r\n        >\r\n            <el-pagination background :page-size=\"pageSize\" layout=\"prev, pager, next\" :total=\"itemTotal\"\r\n                           @current-change=\"current_change\"/>\r\n        </el-row>\r\n        <!--弹出对话框-->\r\n        <el-dialog :visible.sync=\"dialogVisible\"\r\n                   style=\"max-width: 800px;padding:10px 20px;margin: 0 auto\"\r\n                   :modal-append-to-body=\"false\"\r\n                   :append-to-body=\"true\">\r\n            <el-row slot=\"title\" type=\"flex\" justify=\"center\" align=\"middle\">\r\n                <el-col :span=\"5\">添加用户</el-col>\r\n            </el-row>\r\n            <el-form :model=\"form\" label-position=\"left\" label-width=\"80px\">\r\n                <el-form-item prop=\"userName\" label=\"用户名:\">\r\n                    <el-input v-model=\"form.userName\"/>\r\n                </el-form-item>\r\n                <el-form-item prop=\"chineseName\" label=\"中文名:\">\r\n                    <el-input v-model=\"form.chineseName\"/>\r\n                </el-form-item>\r\n                <el-form-item prop=\"password\" label=\"密码:\">\r\n                    <el-input type=\"password\" v-model=\"form.password\"/>\r\n                </el-form-item>\r\n                <el-form-item prop=\"isAdmin\" label=\"管理员:\">\r\n                    <el-row>\r\n                        <el-col :span=\"1\">\r\n                            <el-checkbox v-model=\"form.isAdmin\"/>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-form-item>\r\n            </el-form>\r\n            <el-row type=\"flex\" justify=\"end\">\r\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addUser()\">保存</el-button>\r\n            </el-row>\r\n        </el-dialog>\r\n    </el-col>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import api from '../../api';\r\n    import Vue from \"vue\";\r\n    import {User} from '@/model';\r\n    import Component from \"vue-class-component\"\r\n\r\n    interface Form {\r\n        userName: string,\r\n        chineseName: string,\r\n        password: string,\r\n        isAdmin: boolean\r\n    }\r\n\r\n    @Component\r\n    export default class MyUser extends Vue {\r\n        // data\r\n        private UserList: Array<User> = [];\r\n        private loading: boolean = true;\r\n        private dialogVisible: boolean = false;\r\n        private user_id: string = '';\r\n        private currentPage: number = 1;\r\n        private pageSize: number = 8;\r\n        private itemTotal: number = 0;\r\n        private form: Form = {\r\n            userName: '',\r\n            chineseName: '',\r\n            password: '',\r\n            isAdmin: false\r\n        };\r\n\r\n        // methods\r\n\r\n        private addUser(): void {\r\n            const new_user: User = {\r\n                'chineseName': this.form.chineseName,\r\n                'isAdmin': this.form.isAdmin === true ? 1 : 0,\r\n                'userName': this.form.userName,\r\n                'password': this.form.password\r\n            };\r\n            api.addUser(new_user).then((data: any) => {\r\n                // console.log(data);\r\n                this.dialogVisible = false;\r\n                this.getAllUser()\r\n            })\r\n        }\r\n\r\n        private gotoUser(): void {\r\n            api.getUser(this.user_id).then((data: any) => {\r\n                // console.log(data)\r\n                this.UserList.splice(0);\r\n                this.UserList.push(data);\r\n                this.itemTotal = this.UserList.length;\r\n                this.currentPage = 1;\r\n                // if (this.UserList.length === 0) {\r\n                // console.log('用户不存在');\r\n                // }\r\n            })\r\n        }\r\n\r\n        private current_change(currentPage: number): void {\r\n            this.currentPage = currentPage\r\n        }\r\n\r\n        private getAllUser(): void {\r\n            api.getUser().then((data: any) => {\r\n                // console.log(res)\r\n                this.UserList = data;\r\n                this.itemTotal = data.length;\r\n                this.loading = false;\r\n            })\r\n        }\r\n\r\n        // created\r\n        private created(): void {\r\n            this.getAllUser()\r\n        }\r\n\r\n        //beforeCreate\r\n        private beforeCreate(): void {\r\n            if (!this.$store.state.isLogin) {\r\n                this.$router.replace('/login')\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .col-title {\r\n        text-align: left;\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .title {\r\n        font-size: 14px;\r\n        font-weight: bolder;\r\n    }\r\n</style>\r\n"]}]}