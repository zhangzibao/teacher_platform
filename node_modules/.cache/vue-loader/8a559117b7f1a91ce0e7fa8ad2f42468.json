{"remainingRequest":"G:\\vue\\Admin\\d_315\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\vue\\Admin\\d_315\\src\\views\\Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"G:\\vue\\Admin\\d_315\\src\\views\\Login.vue","mtime":1547110596653},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\babel-loader\\lib\\index.js","mtime":1545539497453},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\ts-loader\\index.js","mtime":1546150480400},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545539517045},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\vue-loader\\lib\\index.js","mtime":1545539518738}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport api from '../api';\nimport Vue from 'vue';\nimport Component from \"vue-class-component\"\n\ninterface rule_form {\n    userName?: string,\n    password?: string\n}\n\n@Component\nexport default class MyLogin extends Vue {\n    // data\n    private logining: boolean = false;\n    private ruleForm: rule_form = {\n        userName: \"\",\n        password: \"\"\n    };\n    private rules: any = {\n        userName: [\n            {required: true, message: '请输入账号', trigger: 'blur'}\n        ],\n        password: [\n            {required: true, message: '请输入密码', trigger: 'blur'}\n        ]\n    };\n    private checked: boolean = true;\n    public $refs!: {\n        validate: HTMLFormElement\n    };\n\n    // methods\n    private Login(): void {\n        this.$refs['ruleForm'].validate((valid) => {\n            if (valid) {\n                const loginParams: rule_form = {\n                    userName: this.ruleForm.userName,\n                    password: this.ruleForm.password\n                };\n                api.login(loginParams).then((data: any) => {\n                    if (data === \"用户名不存在\" || data === \"密码错误\") {\n                        this.$message({\n                            message: data,\n                            type: 'warning'\n                        });\n                    } else {\n                        this.$store.dispatch(\"Login\", data).then((res) => {\n                            this.$message({\n                                message: '登录成功',\n                                type: 'success'\n                            });\n                            this.$router.replace(\"/record\");\n                        });\n                    }\n                })\n            }\n        });\n    }\n\n}\n\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Login.vue","sourceRoot":"src\\views","sourcesContent":["<template>\r\n    <el-form :model=\"ruleForm\"\r\n             :rules=\"rules\"\r\n             class=\"demo-ruleForm login-container\"\r\n             label-position=\"left\"\r\n             label-width=\"0px\"\r\n             ref=\"ruleForm\"\r\n             @keyup.enter.native=\"Login()\"\r\n    >\r\n        <h3 class=\"title\">宁波工程学院7号楼315寝室费管理系统</h3>\r\n        <el-form-item prop=\"userName\">\r\n            <el-input type=\"text\"\r\n                      v-model=\"ruleForm.userName\"\r\n                      auto-complete=\"off\"\r\n                      placeholder=\"账号\"/>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n            <el-input type=\"password\"\r\n                      v-model=\"ruleForm.password\"\r\n                      auto-complete=\"off\"\r\n                      placeholder=\"密码\"\r\n            />\r\n        </el-form-item>\r\n        <el-checkbox v-model=\"checked\"\r\n                     checked\r\n                     class=\"remember\">记住密码\r\n        </el-checkbox>\r\n        <el-form-item style=\"width:100%;\">\r\n            <el-button type=\"primary\"\r\n                       style=\"width:100%;\"\r\n                       @click.native.prevent=\"Login()\"\r\n                       :loading=\"logining\">登录\r\n            </el-button>\r\n        </el-form-item>\r\n    </el-form>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import api from '../api';\r\n    import Vue from 'vue';\r\n    import Component from \"vue-class-component\"\r\n\r\n    interface rule_form {\r\n        userName?: string,\r\n        password?: string\r\n    }\r\n\r\n    @Component\r\n    export default class MyLogin extends Vue {\r\n        // data\r\n        private logining: boolean = false;\r\n        private ruleForm: rule_form = {\r\n            userName: \"\",\r\n            password: \"\"\r\n        };\r\n        private rules: any = {\r\n            userName: [\r\n                {required: true, message: '请输入账号', trigger: 'blur'}\r\n            ],\r\n            password: [\r\n                {required: true, message: '请输入密码', trigger: 'blur'}\r\n            ]\r\n        };\r\n        private checked: boolean = true;\r\n        public $refs!: {\r\n            validate: HTMLFormElement\r\n        };\r\n\r\n        // methods\r\n        private Login(): void {\r\n            this.$refs['ruleForm'].validate((valid) => {\r\n                if (valid) {\r\n                    const loginParams: rule_form = {\r\n                        userName: this.ruleForm.userName,\r\n                        password: this.ruleForm.password\r\n                    };\r\n                    api.login(loginParams).then((data: any) => {\r\n                        if (data === \"用户名不存在\" || data === \"密码错误\") {\r\n                            this.$message({\r\n                                message: data,\r\n                                type: 'warning'\r\n                            });\r\n                        } else {\r\n                            this.$store.dispatch(\"Login\", data).then((res) => {\r\n                                this.$message({\r\n                                    message: '登录成功',\r\n                                    type: 'success'\r\n                                });\r\n                                this.$router.replace(\"/record\");\r\n                            });\r\n                        }\r\n                    })\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .login-container {\r\n        /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\r\n        -webkit-border-radius: 5px;\r\n        border-radius: 5px;\r\n        -moz-border-radius: 5px;\r\n        background-clip: padding-box;\r\n        margin: 180px auto;\r\n        width: 350px;\r\n        padding: 35px 35px 15px 35px;\r\n        background: #fff;\r\n        border: 1px solid #eaeaea;\r\n        box-shadow: 0 0 25px #cac6c6;\r\n\r\n        .title {\r\n            margin: 0 auto 40px auto;\r\n            text-align: center;\r\n            color: #505458;\r\n        }\r\n\r\n        .remember {\r\n            margin: 0 0 35px 0;\r\n        }\r\n    }\r\n</style>"]}]}