{"remainingRequest":"G:\\vue\\Admin\\teacher_platform\\node_modules\\babel-loader\\lib\\index.js!G:\\vue\\Admin\\teacher_platform\\node_modules\\ts-loader\\index.js??ref--14-2!G:\\vue\\Admin\\teacher_platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\vue\\Admin\\teacher_platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\vue\\Admin\\teacher_platform\\src\\views\\record\\record.vue?vue&type=script&lang=ts&","dependencies":[{"path":"G:\\vue\\Admin\\teacher_platform\\src\\views\\record\\record.vue","mtime":1550913524291},{"path":"G:\\vue\\Admin\\teacher_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545539517045},{"path":"G:\\vue\\Admin\\teacher_platform\\node_modules\\babel-loader\\lib\\index.js","mtime":1545539497453},{"path":"G:\\vue\\Admin\\teacher_platform\\node_modules\\ts-loader\\index.js","mtime":1546150480400},{"path":"G:\\vue\\Admin\\teacher_platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545539517045},{"path":"G:\\vue\\Admin\\teacher_platform\\node_modules\\vue-loader\\lib\\index.js","mtime":1545539518738}],"contextDependencies":[],"result":["import _classCallCheck from \"G:\\\\vue\\\\Admin\\\\teacher_platform\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\vue\\\\Admin\\\\teacher_platform\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\vue\\\\Admin\\\\teacher_platform\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\vue\\\\Admin\\\\teacher_platform\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\vue\\\\Admin\\\\teacher_platform\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport * as tslib_1 from \"tslib\";\nimport api from '../../api';\nimport Vue from 'vue';\nimport Component from \"vue-class-component\";\n\nvar MyRecord =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(MyRecord, _Vue);\n\n  function MyRecord() {\n    var _this;\n\n    _classCallCheck(this, MyRecord);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyRecord).apply(this, arguments)); // data\n\n    _this.RecordList = [];\n    _this.loading = true;\n    _this.dialogVisible = false;\n    _this.currentPage = 1;\n    _this.pageSize = 8;\n    _this.record_id = '';\n    _this.itemTotal = 0;\n    _this.form = {\n      changeValue: 0,\n      changeReason: ''\n    };\n    return _this;\n  } // methods\n\n\n  _createClass(MyRecord, [{\n    key: \"addRecord\",\n    value: function addRecord() {\n      var _this2 = this;\n\n      var record = {\n        'changeValue': this.form.changeValue,\n        'changeReason': this.form.changeReason\n      };\n      api.addRecord(record).then(function (data) {\n        _this2.dialogVisible = false;\n\n        _this2.getAllRecord();\n      });\n    }\n  }, {\n    key: \"gotoRecord\",\n    value: function gotoRecord() {\n      var _this3 = this;\n\n      api.getRecord(this.record_id).then(function (data) {\n        _this3.RecordList.splice(0);\n\n        _this3.RecordList.push(data);\n\n        _this3.itemTotal = _this3.RecordList.length;\n        _this3.currentPage = 1; // if (this.RecordList.length === 0) {\n        // console.log('消费记录不存在');\n        // }\n      });\n    }\n  }, {\n    key: \"current_change\",\n    value: function current_change(currentPage) {\n      this.currentPage = currentPage;\n    }\n  }, {\n    key: \"getAllRecord\",\n    value: function getAllRecord() {\n      var _this4 = this;\n\n      api.getRecord().then(function (data) {\n        // console.log(data)\n        _this4.RecordList = data;\n        _this4.itemTotal = data.length;\n        _this4.loading = false;\n      });\n    } // created\n\n  }, {\n    key: \"created\",\n    value: function created() {\n      this.getAllRecord();\n    }\n  }]);\n\n  return MyRecord;\n}(Vue);\n\nMyRecord = tslib_1.__decorate([Component], MyRecord);\nexport default MyRecord;\n;",{"version":3,"sources":["G:\\vue\\Admin\\teacher_platform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\vue\\Admin\\teacher_platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\vue\\Admin\\teacher_platform\\src\\views\\record\\record.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;AA0FA,OAAO,GAAP,MAAgB,WAAhB;AACA,OAAO,GAAP,MAAgB,KAAhB;AAEA,OAAO,SAAP,MAAsB,qBAAtB;;AAQA,IAAqB,QAArB;AAAA;AAAA;AAAA;;AADA,sBAAA;AAAA;;AAAA;;+FAAA,CAEI;;AACQ,UAAA,UAAA,GAA4B,EAA5B;AACA,UAAA,OAAA,GAAmB,IAAnB;AACA,UAAA,aAAA,GAAyB,KAAzB;AACA,UAAA,WAAA,GAAsB,CAAtB;AACA,UAAA,QAAA,GAAmB,CAAnB;AACA,UAAA,SAAA,GAAoB,EAApB;AACA,UAAA,SAAA,GAAoB,CAApB;AACA,UAAA,IAAA,GAAa;AACjB,MAAA,WAAW,EAAE,CADI;AAEjB,MAAA,YAAY,EAAE;AAFG,KAAb;AAVZ;AA4DC,GA3DD,CAgBI;;;AAhBJ;AAAA;AAAA,gCAiBqB;AAAA;;AACb,UAAM,MAAM,GAAW;AACnB,uBAAe,KAAK,IAAL,CAAU,WADN;AAEnB,wBAAgB,KAAK,IAAL,CAAU;AAFP,OAAvB;AAIA,MAAA,GAAG,CAAC,SAAJ,CAAc,MAAd,EAAsB,IAAtB,CAA2B,UAAC,IAAD,EAAc;AACrC,QAAA,MAAI,CAAC,aAAL,GAAqB,KAArB;;AACA,QAAA,MAAI,CAAC,YAAL;AACH,OAHD;AAIH;AA1BL;AAAA;AAAA,iCA4BsB;AAAA;;AACd,MAAA,GAAG,CAAC,SAAJ,CAAc,KAAK,SAAnB,EAA8B,IAA9B,CAAmC,UAAC,IAAD,EAAc;AAC7C,QAAA,MAAI,CAAC,UAAL,CAAgB,MAAhB,CAAuB,CAAvB;;AACA,QAAA,MAAI,CAAC,UAAL,CAAgB,IAAhB,CAAqB,IAArB;;AACA,QAAA,MAAI,CAAC,SAAL,GAAiB,MAAI,CAAC,UAAL,CAAgB,MAAjC;AACA,QAAA,MAAI,CAAC,WAAL,GAAmB,CAAnB,CAJ6C,CAK7C;AACA;AACA;AACH,OARD;AASH;AAtCL;AAAA;AAAA,mCAwC2B,WAxC3B,EAwC8C;AACtC,WAAK,WAAL,GAAmB,WAAnB;AACH;AA1CL;AAAA;AAAA,mCA4CwB;AAAA;;AAChB,MAAA,GAAG,CAAC,SAAJ,GAAgB,IAAhB,CAAqB,UAAC,IAAD,EAAc;AAC/B;AACA,QAAA,MAAI,CAAC,UAAL,GAAkB,IAAlB;AACA,QAAA,MAAI,CAAC,SAAL,GAAiB,IAAI,CAAC,MAAtB;AACA,QAAA,MAAI,CAAC,OAAL,GAAe,KAAf;AACH,OALD;AAMH,KAnDL,CAqDI;;AArDJ;AAAA;AAAA,8BAsDmB;AACX,WAAK,YAAL;AAEH;AAzDL;;AAAA;AAAA,EAAsC,GAAtC,CAAA;;AAAqB,QAAQ,GAAA,OAAA,CAAA,UAAA,CAAA,CAD5B,SAC4B,CAAA,EAAR,QAAQ,CAAR;eAAA,Q;AA2DpB","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport api from '../../api';\nimport Vue from 'vue';\nimport {Record} from '@/model';\nimport Component from \"vue-class-component\"\n\ninterface Form {\n    changeValue?: any,\n    changeReason?: any,\n}\n\n@Component\nexport default class MyRecord extends Vue {\n    // data\n    private RecordList: Array<Record> = [];\n    private loading: boolean = true;\n    private dialogVisible: boolean = false;\n    private currentPage: number = 1;\n    private pageSize: number = 8;\n    private record_id: string = '';\n    private itemTotal: number = 0;\n    private form: Form = {\n        changeValue: 0,\n        changeReason: ''\n    };\n\n\n\n    // methods\n    private addRecord(): void {\n        const record: Record = {\n            'changeValue': this.form.changeValue,\n            'changeReason': this.form.changeReason\n        };\n        api.addRecord(record).then((data: any) => {\n            this.dialogVisible = false;\n            this.getAllRecord();\n        });\n    }\n\n    private gotoRecord(): void {\n        api.getRecord(this.record_id).then((data: any) => {\n            this.RecordList.splice(0);\n            this.RecordList.push(data);\n            this.itemTotal = this.RecordList.length;\n            this.currentPage = 1;\n            // if (this.RecordList.length === 0) {\n            // console.log('消费记录不存在');\n            // }\n        })\n    }\n\n    private current_change(currentPage: number): void {\n        this.currentPage = currentPage;\n    }\n\n    private getAllRecord(): void {\n        api.getRecord().then((data: any) => {\n            // console.log(data)\n            this.RecordList = data;\n            this.itemTotal = data.length;\n            this.loading = false\n        })\n    }\n\n    // created\n    private created(): void {\n        this.getAllRecord();\n\n    }\n\n};\n"],"sourceRoot":""}]}