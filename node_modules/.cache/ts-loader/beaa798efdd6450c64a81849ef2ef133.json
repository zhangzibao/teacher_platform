{"remainingRequest":"G:\\vue\\Admin\\d_315\\node_modules\\babel-loader\\lib\\index.js!G:\\vue\\Admin\\d_315\\node_modules\\ts-loader\\index.js??ref--14-2!G:\\vue\\Admin\\d_315\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\vue\\Admin\\d_315\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\vue\\Admin\\d_315\\src\\views\\Login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"G:\\vue\\Admin\\d_315\\src\\views\\Login.vue","mtime":1547110819684},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545539517045},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\babel-loader\\lib\\index.js","mtime":1545539497453},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\ts-loader\\index.js","mtime":1546150480400},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1545539517045},{"path":"G:\\vue\\Admin\\d_315\\node_modules\\vue-loader\\lib\\index.js","mtime":1545539518738}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport _classCallCheck from \"G:\\\\vue\\\\Admin\\\\d_315\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\vue\\\\Admin\\\\d_315\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\vue\\\\Admin\\\\d_315\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\vue\\\\Admin\\\\d_315\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\vue\\\\Admin\\\\d_315\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport * as tslib_1 from \"tslib\";\nimport api from '../api';\nimport Vue from 'vue';\nimport Component from \"vue-class-component\";\n\nvar MyLogin =\n/*#__PURE__*/\nfunction (_Vue) {\n  _inherits(MyLogin, _Vue);\n\n  function MyLogin() {\n    var _this;\n\n    _classCallCheck(this, MyLogin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyLogin).apply(this, arguments)); // data\n\n    _this.logining = false;\n    _this.ruleForm = {\n      userName: \"\",\n      password: \"\"\n    };\n    _this.rules = {\n      userName: [{\n        required: true,\n        message: '请输入账号',\n        trigger: 'blur'\n      }],\n      password: [{\n        required: true,\n        message: '请输入密码',\n        trigger: 'blur'\n      }]\n    };\n    _this.checked = true;\n    return _this;\n  } // methods\n\n\n  _createClass(MyLogin, [{\n    key: \"Login\",\n    value: function Login() {\n      var _this2 = this;\n\n      this.$refs['ruleForm'].validate(function (valid) {\n        if (valid) {\n          var loginParams = {\n            userName: _this2.ruleForm.userName,\n            password: _this2.ruleForm.password\n          };\n          api.login(loginParams).then(function (data) {\n            if (data === \"用户名不存在\" || data === \"密码错误\") {\n              _this2.$message({\n                message: data,\n                type: 'warning'\n              });\n            } else {\n              _this2.$store.dispatch(\"Login\", data).then(function (res) {\n                _this2.$message({\n                  message: '登录成功',\n                  type: 'success'\n                });\n\n                _this2.$router.replace(\"/record\");\n              });\n            }\n          });\n        }\n      });\n    }\n  }]);\n\n  return MyLogin;\n}(Vue);\n\nMyLogin = tslib_1.__decorate([Component], MyLogin);\nexport default MyLogin;",{"version":3,"sources":["G:\\vue\\Admin\\d_315\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\vue\\Admin\\d_315\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\vue\\Admin\\d_315\\src\\views\\Login.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;;AAsCA,OAAO,GAAP,MAAgB,QAAhB;AACA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,SAAP,MAAsB,qBAAtB;;AAQA,IAAqB,OAArB;AAAA;AAAA;AAAA;;AADA,qBAAA;AAAA;;AAAA;;8FAAA,CAEI;;AACQ,UAAA,QAAA,GAAoB,KAApB;AACA,UAAA,QAAA,GAAsB;AAC1B,MAAA,QAAQ,EAAE,EADgB;AAE1B,MAAA,QAAQ,EAAE;AAFgB,KAAtB;AAIA,UAAA,KAAA,GAAa;AACjB,MAAA,QAAQ,EAAE,CACN;AAAC,QAAA,QAAQ,EAAE,IAAX;AAAiB,QAAA,OAAO,EAAE,OAA1B;AAAmC,QAAA,OAAO,EAAE;AAA5C,OADM,CADO;AAIjB,MAAA,QAAQ,EAAE,CACN;AAAC,QAAA,QAAQ,EAAE,IAAX;AAAiB,QAAA,OAAO,EAAE,OAA1B;AAAmC,QAAA,OAAO,EAAE;AAA5C,OADM;AAJO,KAAb;AAQA,UAAA,OAAA,GAAmB,IAAnB;AAhBZ;AAmDC,GAlDD,CAsBI;;;AAtBJ;AAAA;AAAA,4BAuBiB;AAAA;;AACT,WAAK,KAAL,CAAW,UAAX,EAAuB,QAAvB,CAAgC,UAAC,KAAD,EAAU;AACtC,YAAI,KAAJ,EAAW;AACP,cAAM,WAAW,GAAc;AAC3B,YAAA,QAAQ,EAAE,MAAI,CAAC,QAAL,CAAc,QADG;AAE3B,YAAA,QAAQ,EAAE,MAAI,CAAC,QAAL,CAAc;AAFG,WAA/B;AAIA,UAAA,GAAG,CAAC,KAAJ,CAAU,WAAV,EAAuB,IAAvB,CAA4B,UAAC,IAAD,EAAc;AACtC,gBAAI,IAAI,KAAK,QAAT,IAAqB,IAAI,KAAK,MAAlC,EAA0C;AACtC,cAAA,MAAI,CAAC,QAAL,CAAc;AACV,gBAAA,OAAO,EAAE,IADC;AAEV,gBAAA,IAAI,EAAE;AAFI,eAAd;AAIH,aALD,MAKO;AACH,cAAA,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,OAArB,EAA8B,IAA9B,EAAoC,IAApC,CAAyC,UAAC,GAAD,EAAQ;AAC7C,gBAAA,MAAI,CAAC,QAAL,CAAc;AACV,kBAAA,OAAO,EAAE,MADC;AAEV,kBAAA,IAAI,EAAE;AAFI,iBAAd;;AAIA,gBAAA,MAAI,CAAC,OAAL,CAAa,OAAb,CAAqB,SAArB;AACH,eAND;AAOH;AACJ,WAfD;AAgBH;AACJ,OAvBD;AAwBH;AAhDL;;AAAA;AAAA,EAAqC,GAArC,CAAA;;AAAqB,OAAO,GAAA,OAAA,CAAA,UAAA,CAAA,CAD3B,SAC2B,CAAA,EAAP,OAAO,CAAP;eAAA,O","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport api from '../api';\nimport Vue from 'vue';\nimport Component from \"vue-class-component\"\n\ninterface rule_form {\n    userName?: string,\n    password?: string\n}\n\n@Component\nexport default class MyLogin extends Vue {\n    // data\n    private logining: boolean = false;\n    private ruleForm: rule_form = {\n        userName: \"\",\n        password: \"\"\n    };\n    private rules: any = {\n        userName: [\n            {required: true, message: '请输入账号', trigger: 'blur'}\n        ],\n        password: [\n            {required: true, message: '请输入密码', trigger: 'blur'}\n        ]\n    };\n    private checked: boolean = true;\n\n    // $refs\n    public $refs!: {\n        validate: HTMLFormElement\n    };\n\n    // methods\n    private Login(): void {\n        this.$refs['ruleForm'].validate((valid) => {\n            if (valid) {\n                const loginParams: rule_form = {\n                    userName: this.ruleForm.userName,\n                    password: this.ruleForm.password\n                };\n                api.login(loginParams).then((data: any) => {\n                    if (data === \"用户名不存在\" || data === \"密码错误\") {\n                        this.$message({\n                            message: data,\n                            type: 'warning'\n                        });\n                    } else {\n                        this.$store.dispatch(\"Login\", data).then((res) => {\n                            this.$message({\n                                message: '登录成功',\n                                type: 'success'\n                            });\n                            this.$router.replace(\"/record\");\n                        });\n                    }\n                })\n            }\n        });\n    }\n\n}\n\n"],"sourceRoot":""}]}